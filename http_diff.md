
## **HTTP/1.1 vs HTTP/2 vs HTTP/3 请求流程对比图**

```
浏览器发起请求
┌─────────────┐
│ HTTP/1.1     │
└─────────────┘
        │
        ▼
┌─────────────────────┐
│ 单 TCP 连接          │
│ 请求1 → 队头阻塞     │
│ 请求2 → 等待请求1完成 │
│ 请求3 → 等待请求1完成 │
└─────────────────────┘
        │
        ▼
服务器响应依次返回
- 低效，多请求延迟累加

--------------------------------------------------

┌─────────────┐
│ HTTP/2       │
└─────────────┘
        │
        ▼
┌─────────────────────┐
│ 单 TCP 连接，多路复用 │
│ 数据被分成二进制帧   │
│ 帧可并行传输         │
└─────────────────────┘
        │
        ▼
服务器响应多帧交错返回
- 队头阻塞问题解决
- 支持 Server Push

--------------------------------------------------

┌─────────────┐
│ HTTP/3       │
└─────────────┘
        │
        ▼
┌─────────────────────┐
│ 基于 QUIC (UDP)      │
│ 多路复用 + 加密      │
│ 连接建立快，低延迟   │
│ 队头阻塞完全消除     │
└─────────────────────┘
        │
        ▼
服务器响应多路复用返回
- 可靠性由 QUIC 内置机制保证
```

---

### 🔹 图解说明

1. **HTTP/1.1**

   * 每个请求可能阻塞后续请求（队头阻塞）
   * 浏览器通常开启 6~8 个并行 TCP 连接来绕过阻塞

2. **HTTP/2**

   * 单连接，多路复用
   * 数据拆分为二进制帧，可交错传输
   * 支持 Server Push，减少额外请求

3. **HTTP/3**

   * 基于 **QUIC（UDP + 加密 + 多路复用）**
   * 连接建立快（0-RTT / 1-RTT）
   * 队头阻塞彻底解决
   * 内置加密，不再依赖 TLS 分层

---

### 🔹 面试常考点

* **队头阻塞（HOL Blocking）问题**

  * HTTP/1.1 多请求依赖顺序
  * HTTP/2 多路复用解决
  * HTTP/3 基于 QUIC 完全解决

* **Server Push**（HTTP/2/3）

  * 服务器可主动推送资源，无需客户端请求

* **连接建立时间**

  * HTTP/1.1: TCP 三次握手 + TLS（HTTPS）
  * HTTP/2: 单 TCP + TLS
  * HTTP/3: QUIC，减少 RTT

* **浏览器优化**

  * 资源合并/压缩
  * 使用 HTTP/2 / HTTP/3
  * 避免阻塞 JS / CSS

---
